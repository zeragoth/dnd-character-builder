from char_values import PC, Race
from phb_races import Dwarf, Gnome, Half_Elf, Tiefling


class Duergar(Dwarf):
    def __init__(self):
        super().__init__()
        self.name = "Duergar"
        self.asi.append((0,1))
        self.traits[0] = "Superior Darkvision"
        self.langs.append("Undercommon")
        self.traits.extend(["Duergar Resilience","Sunlight Sensitivity"])

    def check_lvl(self):
        if PC.lvl >= 3:
            self.spells.append("Enlarge/Reduce*")
        if PC.lvl >= 5:
            self.spells.append("Invisibility*")


class Svirfneblin(Gnome):
    def __init__(self):
        super().__init__()
        self.name = "Deep Gnome"
        self.asi.append((1,1))
        self.traits[0] = "Superior Darkvision"
        self.traits.append("Stone Camouflage")
        self.langs.append("Undercommon")


class Half_Elf_Variant(Half_Elf):
    def __init__(self):
        super().__init__()
        self.name = "Half-elf (Variant)"
        self.skill_profs = []
        self.drow_magic = False

    def choices(self):
        print("Choose a trait.")
        print("[1] - Keen Senses\n--Wood Elf Descent--\n[2] - Elf Weapon Training (Wood Elf)\n"
        "[3] - Fleet of Foot\n[4] - Mask of the Wild\n--Moon/Sun Elf Descent--\n"
        "[5] - Elf Weapon Training (High Elf)\n[6] - Cantrip\n--Drow Descent--\n"
        "[7] - Drow Magic\n--Aquatic Descent--\n[8] - 30 feet swimming speed")
        inp = str.lower(input())
        if inp == "exit":
            quit()
        elif "1" in inp:
            self.skill_profs = ["Perception"]
        elif "2" in inp:
            self.weapon_profs = ["longsword","shortsword","shortbow","longbow"]
        elif "3" in inp:
            self.speed = "35"
        elif "4" in inp:
            self.traits.append("Mask of the Wild")
        elif "5" in inp:
            self.weapon_profs = ["longsword","shortsword","shortbow","longbow"]
        elif "6" in inp:
            self.spells = ["CHOICE"]
        elif "7" in inp:
            self.drow_magic = True
        elif "8" in inp:
            self.speed += ", Swim 30"
        else:
            print(f"{inp} is not a valid input.")
            self.choices()
        return

    def check_lvl(self):
        if self.drow_magic == True:
            if PC.lvl >= 3:
                self.spells.append("Faerie Fire")
            if PC.lvl >= 5:
                self.spells.append("Darkness")
    

    class Tiefling_Variant(Tiefling):
        def __init__(self):
            super().__init__()
            self.name = "Tiefling (Variant)"
            self.asi = [(1,2),(3,1)]
            self.devil_tongue = False
            self.hellfire = False
            self.winged = False
            self.infernal = False

        def choices(self):
            print("Choose a trait.")
            print("[1] - Devil's Tongue\n[2] - Hellfire\n[3] - Winged\n[4] - None (default Infernal Legacy)")
            inp = str.lower(input())
            if inp == "exit":
                quit()
            elif "1" in inp:
                self.devil_tongue = True
            elif "2" in inp:
                self.hellfire = True
            elif "3" in inp:
                self.speed += ", Fly 30"
            elif "4" in inp:
                self.infernal = True
            else:
                print(f"{inp} is not a valid input.")
                self.choices()
            return

        def check_lvl(self):
            if self.devil_tongue == True:
                self.spells.append("Vicious Mockery")
                if PC.lvl >= 3:
                    self.spells.append("Charm Person")
                if PC.lvl >= 5:
                    self.spells.append("Enthrall")

            if self.hellfire == True:
                if PC.lvl >= 3:
                    self.spells.append("Burning Hands")
                if PC.lvl >= 5:
                    self.spells.append("Darkness")

            if self.infernal == True:
                if PC.lvl >= 3:
                    self.spells.append("Hellish Rebuke")
                if PC.lvl >= 5:
                    self.spells.append("Darkness")





# Elemental Evil Player's Companion (EE)

class Aarakocra(Race):
    def __init__(self):
        super().__init__()
        
